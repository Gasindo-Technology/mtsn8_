{"version":3,"file":"3d-viewer.js","mappings":"wDAEIA,EAAI,EAAQ,KAEdC,EAAQ,EAAaD,EAAEE,WACDF,EAAEG,W,kBCL1BC,EAAOH,QAAUI,Q,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaR,QAGrB,IAAIG,EAASE,EAAyBE,GAAY,CAGjDP,QAAS,CAAC,GAOX,OAHAU,EAAoBH,GAAUJ,EAAQA,EAAOH,QAASM,GAG/CH,EAAOH,OACf,E,WCtBA,IAAI,EAA+BW,M,SCenC,EAfc,SAAHC,GAAiC,IAA3BC,EAAUD,EAAVC,WAAYC,EAAQF,EAARE,SACpBC,EAA6BF,EAA7BE,UAAWC,EAAkBH,EAAlBG,MAAOC,EAAWJ,EAAXI,OAE1B,OAAON,MAAAO,cAAA,SAAOC,wBAAyB,CACtCC,OAAQ,0BAAAC,OACWP,EAAQ,0CAAAO,OACZN,EAAS,mCAAAM,OAELP,EAAQ,kDAAAO,OACjB,CAAC,MAAO,KAAM,OAAOC,SAASN,GAAS,OAASA,EAAK,qBAAAK,OACpD,CAAC,MAAO,KAAM,OAAOC,SAASL,GAAU,QAAUA,EAAM,kBAEjEM,QAAQ,OAAQ,OAEpB,ECZMC,EAAW,SAAHZ,EAAoBa,GAAQ,IAAtBZ,EAAUD,EAAVC,WACXa,EAA8Cb,EAA9Ca,WAAYC,EAAkCd,EAAlCc,MAAOC,EAA2Bf,EAA3Be,UAAWC,EAAgBhB,EAAhBgB,YAEtC,OAAOlB,MAAAO,cAAA,OAAKY,UAAU,kBAAkBL,IAAKA,GAC5Cd,MAAAO,cAAA,gBACCa,IAAK,WAAaL,EAAaC,aAAK,EAALA,EAAOK,IAAMJ,EAC5CK,IAAK,WAAaP,EAAaC,aAAK,EAALA,EAAOO,MAAQ,GAC9C,qBACAC,QAASN,EACT,mBAGH,EACA,GAAeO,EAAAA,EAAAA,YAAWZ,GCfba,EAAa,SAACC,EAAUC,EAAWC,EAAWC,GAC1DF,IAAaD,SAAAA,EAAUI,aAAaF,EAAWC,KAC9CF,IAAaD,SAAAA,EAAUK,gBAAgBH,EAAWC,GACpD,ECKAG,SAASC,iBAAiB,oBAAoB,WACzBD,SAASE,iBAAiB,gCAClCC,SAAQ,SAAAC,GACnB,IAAMnC,EAAaoC,KAAKC,MAAMF,EAASG,QAAQtC,aAE/CZ,EAAAA,EAAAA,GAAW+C,GAAUI,OAAOzC,MAAAO,cAAAP,MAAA0C,SAAA,KAC3B1C,MAAAO,cAACoC,EAAK,CAACzC,WAAYA,EAAYC,SAAUD,EAAW0C,MAEpD5C,MAAAO,cAACsC,EAAc,CAAC3C,WAAYA,MAG7BmC,SAAAA,EAAUL,gBAAgB,kBAC3B,GACD,IAEA,IAAMa,EAAiB,SAAH5C,GAAuB,IAAjBC,EAAUD,EAAVC,WACjB4C,EAAwB5C,EAAxB4C,YAAaC,EAAW7C,EAAX6C,OAEfC,GAAkBC,EAAAA,EAAAA,QAAO,MAQ/B,OANAC,EAAAA,EAAAA,YAAU,WACT,IAAMlC,EAAQiB,SAASkB,cAAc,IAADzC,OAAKsC,EAAgBI,QAAQC,UAAU,GAAE,mBAC7E3B,EAAWV,EAAO8B,EAAa,kBAAmB,IAClDpB,EAAWV,GAAQ+B,EAAQ,eAAgB,GAC5C,GAAG,CAACC,EAAgBI,UAEbpD,MAAAO,cAACM,EAAQ,CAACX,WAAYA,EAAYY,IAAKkC,GAC/C,C","sources":["webpack://b-blocks/../block-directory/node_modules/react-dom/client.js","webpack://b-blocks/external var \"ReactDOM\"","webpack://b-blocks/webpack/bootstrap","webpack://b-blocks/external var \"React\"","webpack://b-blocks/./src/blocks/3d-viewer/Style.js","webpack://b-blocks/./src/blocks/3d-viewer/TDViewer.js","webpack://b-blocks/./src/blocks/3d-viewer/utils/functions.js","webpack://b-blocks/./src/blocks/3d-viewer/script.js"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var __WEBPACK_NAMESPACE_OBJECT__ = React;","const Style = ({ attributes, clientId }) => {\r\n\tconst { alignment, width, height } = attributes;\r\n\r\n\treturn <style dangerouslySetInnerHTML={{\r\n\t\t__html: `\r\n\t\t#bBlocks3DViewer-${clientId} .bBlocks3DViewer{\r\n\t\t\ttext-align: ${alignment};\r\n\t\t}\r\n\t\t#bBlocks3DViewer-${clientId} .bBlocks3DViewer model-viewer{\r\n\t\t\twidth: ${['0px', '0%', '0em'].includes(width) ? 'auto' : width};\r\n\t\t\theight: ${['0px', '0%', '0em'].includes(height) ? '350px' : height};\r\n\t\t}\r\n\t\t`.replace(/\\s+/g, ' ')\r\n\t}} />\r\n}\r\nexport default Style;","import { forwardRef } from 'react';\r\n\r\nconst TDViewer = ({ attributes }, ref) => {\r\n\tconst { sourceType, model, modelLink, loadingType } = attributes;\r\n\r\n\treturn <div className='bBlocks3DViewer' ref={ref}>\r\n\t\t<model-viewer\r\n\t\t\tsrc={'upload' === sourceType ? model?.url : modelLink}\r\n\t\t\talt={'upload' === sourceType ? model?.title : ''}\r\n\t\t\tcamera-controls\r\n\t\t\tloading={loadingType}\r\n\t\t\tauto-rotate\r\n\t\t></model-viewer>\r\n\t</div>\r\n}\r\nexport default forwardRef(TDViewer);","export const toggleAttr = (selector, condition, attribute, value) => {\r\n\tcondition && selector?.setAttribute(attribute, value);\r\n\t!condition && selector?.removeAttribute(attribute, value);\r\n}","import { useEffect, useRef } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\nimport './style.scss';\r\nimport Style from './Style';\r\nimport TDViewer from './TDViewer';\r\nimport { toggleAttr } from './utils/functions';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst allTDViewer = document.querySelectorAll('.wp-block-b-blocks-td-viewer');\r\n\tallTDViewer.forEach(tDViewer => {\r\n\t\tconst attributes = JSON.parse(tDViewer.dataset.attributes);\r\n\r\n\t\tcreateRoot(tDViewer).render(<>\r\n\t\t\t<Style attributes={attributes} clientId={attributes.cId} />\r\n\r\n\t\t\t<RenderTDViewer attributes={attributes} />\r\n\t\t</>);\r\n\r\n\t\ttDViewer?.removeAttribute('data-attributes');\r\n\t});\r\n});\r\n\r\nconst RenderTDViewer = ({ attributes }) => {\r\n\tconst { isTouchMove, isZoom } = attributes;\r\n\r\n\tconst bBlocks3DViewer = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst model = document.querySelector(`.${bBlocks3DViewer.current.classList[0]} .bBlocksModel`);\r\n\t\ttoggleAttr(model, isTouchMove, 'camera-controls', '');\r\n\t\ttoggleAttr(model, !isZoom, 'disable-zoom', '');\r\n\t}, [bBlocks3DViewer.current]);\r\n\r\n\treturn <TDViewer attributes={attributes} ref={bBlocks3DViewer} />\r\n}"],"names":["m","exports","createRoot","hydrateRoot","module","ReactDOM","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","React","_ref","attributes","clientId","alignment","width","height","createElement","dangerouslySetInnerHTML","__html","concat","includes","replace","TDViewer","ref","sourceType","model","modelLink","loadingType","className","src","url","alt","title","loading","forwardRef","toggleAttr","selector","condition","attribute","value","setAttribute","removeAttribute","document","addEventListener","querySelectorAll","forEach","tDViewer","JSON","parse","dataset","render","Fragment","Style","cId","RenderTDViewer","isTouchMove","isZoom","bBlocks3DViewer","useRef","useEffect","querySelector","current","classList"],"sourceRoot":""}